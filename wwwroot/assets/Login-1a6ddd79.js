import{_ as u,f as a,r as c,o as p,c as m,a as o,z as g,b as h,w as f,h as w}from"./index-e5788531.js";const b="/assets/front-e5f20495.jpg";const _={data(){return{email:"",password:"",userEmails:[]}},created(){this.getUserEmails()},methods:{login(){console.log("from the login page"),console.log(this.globalUrl);var r=this.mainStore.getBounceUrl;console.log(`this is the bounceUrl ${r}`);var e=this;a.post(e.globalUrl+"login",{email:this.email,password:this.password}).then(s=>{if(s.data.success==!1){this.$toast.warning(s.data.message);return}e.authStore.setUser(s.data.result),e.authStore.setToken(s.data.token),console.log(s.data);var t=e.authStore.getUser;if(console.log("this is the user"),console.log(t),r){console.log("inside if bounce"),e.mainStore.setBounceUrl(null),console.log(r),e.$router.push(r);return}t.userType=="admin"?e.$router.push("/ticketing/systemAdmin/manage"):t.userType=="normal"?e.$router.push("/ticketing/normal"):t.userType=="leader"?e.$router.push("/ticketing/leader/manage"):t.userType=="support"?e.$router.push("/ticketing/support/assist"):t.userType=="power"?e.$router.push("/ticketing/power/analytics"):t.userType=="tLeader"?e.$router.push("/ticketing/temporary-leader/manage"):t.userType=="departmentPower"&&e.$router.push("/ticketing/departmentPowerUser/analytics")}).catch(s=>console.log(s))},getUserEmails(){console.log("inside computed function");var r=this.authStore.getToken,e={token:r},s=this;a.post(s.globalUrl+"getUsersIncludingAdmin",e).then(t=>{console.log(t);var l=t.data.map(n=>n.mailAddress);s.userEmails=l}).catch(t=>s.$toast.warning(t))}}},y={class:"w-full h-full flex flex-row justify-center items-start",ref:"login",id:"login"},v=o("img",{src:b,class:"mt-10 mr-24",style:{filter:"grayscale(0.4)"},alt:"",srcset:""},null,-1),x={class:"w-96 h-50 hover:shadow-blue-500 mt-20"},U=o("div",{class:"w-full bg-gradient-to-r bg-[rgb(38,65,86)] rounded-t-md text-white font-bold text-start pl-5 p-4 text-4xl"},"Login",-1),k={class:"px-4 py-4"},T={class:"mb-2 px-4"},$=o("div",{class:"flex items-center px-4 justify-between"},[o("button",{type:"submit",class:"bg-[rgb(38,65,86)] text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full"},"Submit")],-1),S=o("hr",{class:"border border-solid border-slate-200 mb-5 flex flex-row justify-center items-center ml-5 mt-5",style:{width:"90%"}},null,-1),E={class:"text-white font-bold w-full flex flex-row justify-center items-center h-auto"};function V(r,e,s,t,l,n){const d=c("vss");return p(),m("div",y,[v,o("div",x,[o("form",{onSubmit:e[3]||(e[3]=g((...i)=>n.login&&n.login(...i),["prevent"])),class:"bg-white drop-shadow-md rounded-b-md pb-8 mb-4 h-auto",id:"form"},[U,o("div",k,[h(d,{searchable:"true",modelValue:l.email,"onUpdate:modelValue":e[0]||(e[0]=i=>l.email=i),options:l.userEmails,placeholder:"Select Email"},null,8,["modelValue","options"])]),o("div",T,[f(o("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=i=>l.password=i),class:"shadow h-14 appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-blue-400 focus:outline-1",id:"Password",placeholder:"Password",name:"password"},null,512),[[w,l.password]])]),$,S,o("div",E,[o("button",{class:"bg-green-500 p-4 rounded-md text-xl hover:cursor-pointer",style:{filter:"grayscale(0.3)"},onClick:e[2]||(e[2]=i=>this.$router.push("/register"))},"Create New Account")])],32)])],512)}const B=u(_,[["render",V]]);export{B as default};
