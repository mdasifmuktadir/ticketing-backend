import{_ as v,f as u,r as x,o as d,c as h,a as t,d as g,w as m,h as _,b,F as w,g as y,j as k,t as f}from"./index-e5788531.js";const T={data(){return{articles:[],searchTerm:null}},created(){var r=this,o=this.authStore.getUser,a=this.authStore.getToken,n=new FormData;n.append("user",o),n.append("token",a),u.post(r.globalUrl+"getBlogsForUser",n).then(e=>{r.articles=e.data}).catch(e=>r.$toast.warning(e))},methods:{search(){console.log("searched");var r=this,o=this.authStore.getUser,a=this.authStore.getToken,n=this.searchTerm,e=new FormData;e.append("user",JSON.stringify(o)),e.append("token",a),e.append("search",n),u.post(r.globalUrl+"getFilteredBlogsForUser",e).then(s=>{r.articles=s.data}).catch(s=>r.$toast.warning(s))},deleteArticle(r,e){console.log("delete called"),console.log(e);var a=this,n=this.authStore.getToken,e=e,s=new FormData;s.append("id",e),s.append("token",n),u.post(a.globalUrl+"deleteArticle",s).then(i=>{i.data==!0&&(a.articles=a.articles.filter(l=>l._id!=e))}).catch(i=>a.$toast.warning(i))},checkUser(){var r=this.authStore.getUser.userType;if(r!="normal")return!0},async copy(r,o){await navigator.clipboard.writeText(o)}}},U={class:"w-full h-full px-10 py-10"},C=t("div",{class:"flex flex-row justify-center items-center bg-gray-300 p-4 rounded-md"},[t("label",{class:"text-black text-4xl font-bold"},"Knowledge Base")],-1),j={class:"flex flex-row justify-end w-full"},A={class:"flex flex-row mt-5 justify-center"},S={class:"flex flex-col w-full h-auto"},F=t("label",{class:"text-2xl font-bold"},"Articles:",-1),B={class:"flex flex-col w-3/4 h-auto"},N={class:"text-3xl pb-4 font-bold text-black mb-4 border-b-2 border-b-gray-500 flex flex-row justify-between"},$={class:"flex flex-row justify-around w-16 items-center"},D=["innerHTML"],V={class:"mt-2 flex flex-row justify-between items-center"},L={class:"border-2 border-solid border-black p-2"},M=["onClick"],z=t("div",null,null,-1);function H(r,o,a,n,e,s){const i=x("font-awesome-icon");return d(),h("div",U,[C,t("div",j,[t("div",A,[s.checkUser()?(d(),h("div",{key:0,onClick:o[0]||(o[0]=l=>this.$router.push("/blog/insertArticle")),class:"bg-blue-500 p-3 text-white font-bold w-[100px] rounded-md mr-10 flex flex-col justify-center items-center h-full hover:cursor-pointer"},"Insert Article")):g("",!0),m(t("input",{"onUpdate:modelValue":o[1]||(o[1]=l=>e.searchTerm=l),type:"search",name:"",placeholder:"Search Article",id:"",class:"focus:outline-none text-bold text-lg border-b-2 border-t-2 border-l-2 border-solid border-l-gray-500 border-t-gray-500 border-b-gray-500 p-3 w-[200px]"},null,512),[[_,e.searchTerm]]),t("div",{class:"flex flex-col justify-center bg-gray-300 items-center p-3 border-t-2 border-r-2 border-b-2 border-solid border-r-gray-500 border-t-gray-500 border-b-gray-500 hover:cursor-pointer",onClick:o[2]||(o[2]=l=>s.search())},[b(i,{icon:"fa-solid fa-search"})])])]),t("div",S,[F,t("div",B,[(d(!0),h(w,null,y(e.articles,(l,p)=>(d(),h("div",{class:"w-full mb-5 p-3 bg-white h-auto flex flex-col border-2 border-solid border-gray-800",key:p},[t("div",N,[k(f(l.headline)+" ",1),t("div",$,[b(i,{icon:"fa-solid fa-copy",size:"lg",class:"hover:text-emerald-600 hover:scale-125 hover:cursor-pointer",onClick:c=>s.copy(c,this.frontUrl+"blog/article/"+l._id)},null,8,["onClick"]),b(i,{icon:"fa-solid fa-trash",size:"lg",class:"hover:text-rose-600 hover:scale-125 hover:cursor-pointer",onClick:c=>s.deleteArticle(c,l._id)},null,8,["onClick"])])]),t("div",{class:"text-black h-[60px] truncate",innerHTML:l.content},null,8,D),t("div",V,[t("div",L,"Written By: "+f(l.authors.empName),1),t("div",{class:"border-2 border-solid border-black hover:cursor-pointer bg-blue-500 text-white font-bold p-2",onClick:c=>this.$router.push("/blog/article/"+l._id)},"Read Article",8,M)])]))),128))]),z])])}const I=v(T,[["render",H]]);export{I as default};
