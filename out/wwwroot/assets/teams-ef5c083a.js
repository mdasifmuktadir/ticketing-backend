import{_ as b,f as u,r as p,o as m,c as h,a as e,w as v,h as g,b as f,F as x,g as w,t as _}from"./index-e5788531.js";const k={data(){return{teams:[],filteredTeams:[],searchTerm:null}},created(){var s=this,r=this.authStore.getUser,o=this.authStore.getToken,l=new FormData;l.append("user",r),l.append("token",o),u.post(s.globalUrl+"getTeams",l).then(a=>{s.teams=a.data,s.filteredTeams=a.data}).catch(a=>{s.$toast.warning(a)})},methods:{deleteTeam(s,d){var o=this,l=this.authStore.getUser,a=this.authStore.getToken,d=d;console.log("deleting Team");var n=new FormData;n.append("user",JSON.stringify(l)),n.append("team",JSON.stringify(d)),n.append("token",a),u.post(o.globalUrl+"deleteTeam",n).then(t=>{console.log(t.data);var c=o.teams.filter(i=>i._id!=t.data);o.teams=c,o.filteredTeams=o.teams}).catch(t=>{o.$toast.warning(t)})},filter(){console.log("called filter");var s=this;if(s.searchTerm==""||s.searchTerm==null){s.filteredTeams=s.teams;return}var r=this.teams.filter(o=>{for(var l in o)if(o[l]==s.searchTerm)return!0});s.filteredTeams=r}}},y={class:"flex flex-col w-full overflow-y-scroll h-[100vh]"},T={class:"flex flex-row w-[90vw] m-3 justify-end"},C={class:"overflow-y-scroll h-2/4 w-full relative px-5 mt-3"},S={id:"table",class:"text-start text-sm table-auto overflow-y-scroll w-full h-1/3"},$=e("thead",{class:"shadow-gray-300"},[e("tr",{class:"bg-blue-500 text-white"},[e("th",{scope:"col",class:"border-b border-b-slate-100 font-bold h-14 text-center mr-10 text-sm bg-blue-500 sticky top-0 text-white"},"Name"),e("th",{class:"bg-blue-500 sticky top-0 text-white"}),e("th",{class:"bg-blue-500 sticky top-0 text-white"})])],-1),N={class:"border-2 border-solid text-sm text-center border-slate-300 h-14 mr-10 px-44"},U={class:"border-2 border-solid text-sm text-center border-slate-300 mb-10"},D=["onClick"],F=["onClick"],j={class:"flex flex-row justify-end items-end mt-4"};function B(s,r,o,l,a,d){const n=p("font-awesome-icon");return m(),h("div",y,[e("div",T,[v(e("input",{"onUpdate:modelValue":r[0]||(r[0]=t=>a.searchTerm=t),type:"search",placeholder:"Search",class:"border shadow-sm shadow-black border-solid border-gray-300 p-2 focus:outline-none"},null,512),[[g,a.searchTerm]]),e("div",{onClick:r[1]||(r[1]=(...t)=>d.filter&&d.filter(...t)),class:"flex flex-col hover:cursor-pointer shadow-sm shadow-black justify-center items-center ml-1 bg-gray-300 p-3"},[f(n,{icon:"fa-solid fa-search"})])]),e("div",C,[e("table",S,[$,e("tbody",null,[(m(!0),h(x,null,w(a.filteredTeams,(t,c)=>(m(),h("tr",{key:c,scope:"row",class:"hover:bg-blue-200"},[e("td",N,_(t.name),1),e("td",U,[e("button",{onClick:i=>this.$router.push("/ticketing/teams/update/"+t._id),style:{cursor:"pointer"},class:"rounded-md font-bold text-emerald-500 text-center"},[f(n,{icon:"fa-solid fa-pen"})],8,D),e("button",{onClick:i=>d.deleteTeam(i,t),style:{cursor:"pointer"},class:"fa-solid fa-trash rounded-md font-bold text-center text-rose-500 ml-10 mr-5"},[f(n,{icon:"fa-solid fa-trash"})],8,F)])]))),128))])])]),e("div",j,[e("button",{onClick:r[2]||(r[2]=t=>this.$router.push("/ticketing/teams/add")),class:"bg-blue-500 w-36 text-white font-bold text-md h-12 ml-3 rounded-sm mr-1"},"Add Team"),e("button",{onClick:r[3]||(r[3]=t=>this.$router.push("/ticketing/systemAdmin/manage")),class:"bg-gray-300 w-36 text-gray-500 font-bold text-md h-12 rounded-sm mr-3"},"Home")])])}const A=b(k,[["render",B]]);export{A as default};
