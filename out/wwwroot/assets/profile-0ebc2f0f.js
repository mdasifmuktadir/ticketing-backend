import{o as V,c as j,w as _,a as t,q as O,s as N,d as D,u as B,m as U,x as y,y as w,z as A,A as E,_ as P,f as M,r as L,t as g,h as C,j as z,b as T}from"./index-e5788531.js";var q={name:"Toggle",emits:["input","update:modelValue","change"],props:{value:{validator:function(e){return l=>["number","string","boolean"].indexOf(typeof l)!==-1||l==null},required:!1},modelValue:{validator:function(e){return l=>["number","string","boolean"].indexOf(typeof l)!==-1||l==null},required:!1},id:{type:[String,Number],required:!1,default:"toggle"},name:{type:[String,Number],required:!1,default:"toggle"},disabled:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1},falseValue:{type:[String,Number,Boolean],required:!1,default:!1},trueValue:{type:[String,Number,Boolean],required:!1,default:!0},onLabel:{type:[String,Object],required:!1,default:""},offLabel:{type:[String,Object],required:!1,default:""},classes:{type:Object,required:!1,default:()=>({})},labelledby:{type:String,required:!1},describedby:{type:String,required:!1},aria:{required:!1,type:Object,default:()=>({})}},setup(e,l){const d=function(n,h,s){const{value:f,modelValue:u,falseValue:i,trueValue:o,disabled:m}=y(n),c=u&&u.value!==void 0?u:f,b=w(()=>c.value===o.value),x=p=>{h.emit("input",p),h.emit("update:modelValue",p),h.emit("change",p)},k=()=>{x(o.value)},S=()=>{x(i.value)};return[null,void 0,!1,0,"0","off"].indexOf(c.value)!==-1&&[i.value,o.value].indexOf(c.value)===-1&&S(),[!0,1,"1","on"].indexOf(c.value)!==-1&&[i.value,o.value].indexOf(c.value)===-1&&k(),{externalValue:c,checked:b,update:x,check:k,uncheck:S,handleInput:p=>{x(p.target.checked?o.value:i.value)},handleClick:()=>{m.value||(b.value?S():k())}}}(e,l),v=function(n,h,s){const{trueValue:f,falseValue:u,onLabel:i,offLabel:o}=y(n),m=s.checked,c=s.update;return{label:w(()=>{let b=m.value?i.value:o.value;return b||(b="&nbsp;"),b}),toggle:()=>{c(m.value?u.value:f.value)},on:()=>{c(f.value)},off:()=>{c(u.value)}}}(e,0,{checked:d.checked,update:d.update}),a=function(n,h,s){const f=y(n),u=f.disabled,i=s.checked,o=w(()=>({container:"toggle-container",toggle:"toggle",toggleOn:"toggle-on",toggleOff:"toggle-off",toggleOnDisabled:"toggle-on-disabled",toggleOffDisabled:"toggle-off-disabled",handle:"toggle-handle",handleOn:"toggle-handle-on",handleOff:"toggle-handle-off",handleOnDisabled:"toggle-handle-on-disabled",handleOffDisabled:"toggle-handle-off-disabled",label:"toggle-label",...f.classes.value}));return{classList:w(()=>({container:o.value.container,toggle:[o.value.toggle,u.value?i.value?o.value.toggleOnDisabled:o.value.toggleOffDisabled:i.value?o.value.toggleOn:o.value.toggleOff],handle:[o.value.handle,u.value?i.value?o.value.handleOnDisabled:o.value.handleOffDisabled:i.value?o.value.handleOn:o.value.handleOff],label:o.value.label}))}}(e,0,{checked:d.checked}),r=function(n,h,s){const{disabled:f}=y(n),u=s.check,i=s.uncheck,o=s.checked;return{handleSpace:()=>{f.value||(o.value?i():u())}}}(e,0,{check:d.check,uncheck:d.uncheck,checked:d.checked});return{...d,...a,...v,...r}}};const I=["tabindex","aria-checked","aria-describedby","aria-labelledby"],H=["id","name","value","checked","disabled"],K=["innerHTML"],F=["checked"];q.render=function(e,l,d,v,a,r){return V(),j("div",B({class:e.classList.container,tabindex:d.disabled?void 0:0,"aria-checked":e.checked,"aria-describedby":d.describedby,"aria-labelledby":d.labelledby,role:"switch"},d.aria,{onKeypress:l[1]||(l[1]=U(A((...n)=>e.handleSpace&&e.handleSpace(...n),["prevent"]),["space"]))}),[_(t("input",{type:"checkbox",id:d.id,name:d.name,value:d.trueValue,checked:e.checked,disabled:d.disabled},null,8,H),[[E,!1]]),t("div",{class:O(e.classList.toggle),onClick:l[0]||(l[0]=(...n)=>e.handleClick&&e.handleClick(...n))},[t("span",{class:O(e.classList.handle)},null,2),N(e.$slots,"label",{checked:e.checked,classList:e.classList},()=>[t("span",{class:O(e.classList.label),innerHTML:e.label},null,10,K)]),d.required?(V(),j("input",{key:0,type:"checkbox",style:{appearance:"none",height:"1px",margin:"0",padding:"0",fontSize:"0",background:"transparent",position:"absolute",width:"100%",bottom:"0",outline:"none"},checked:e.checked,"aria-hidden":"true",tabindex:"-1",required:""},null,8,F)):D("v-if",!0)],2)],16,I)},q.__file="src/Toggle.vue";const J={data(){return{files:[],user:null,edit:!1,eye:"fa-solid fa-eye",save:!1}},components:{Toggle:q},computed:{availability(){return this.user.available==!0?"Available":"Not Available"}},created(){var e=this.authStore.getUser;this.user=e},methods:{togglePassword(){console.log("loaded toggle password"),document.getElementById("eye");var e=document.getElementById("password");this.eye=="fa-solid fa-eye-slash"?(this.eye="fa-solid fa-eye",e.setAttribute("type","password")):(this.eye="fa-solid fa-eye-slash",e.setAttribute("type","text"))},toggleSave(){var e=this;console.log("toggle save fired");var l=document.getElementById("save");!e.save&&l!=null&&(l.classList.remove("bg-gray-200"),l.classList.remove("text-gray-400"),l.classList.add("bg-slate-300"),l.classList.add("text-black"),l.classList.add("hover:cursor-pointer"),e.save=!0)},cancel(){var e=this.authStore.getUser,l=e.userType;switch(l){case"admin":this.$router.push("/systemAdmin");break;case"normal":this.$router.push("/user");break;case"power":this.$router.push("/power");break;case"leader":this.$router.push("leader");break}},makeChange(){var e=this;e.$toast.clear(),e.$toast.info("Saving Changes"),e.$toast.clear();var l={...this.user},d=this.authStore.getToken,v=new FormData;console.log("calling make change"),console.log(l),v.append("token",d),v.append("user",JSON.stringify(l)),M.post(e.globalUrl+"updateUserNormal",v).then(a=>{a.data==!0?(e.$toast.clear(),e.$toast.success("Changes Saved"),e.$toast.clear(),l.userType=="admin"?e.$router.push("/systemAdmin"):l.userType=="normal"?e.$router.push("/user"):l.userType=="support"?e.$router.push("/support"):l.userType=="leader"&&e.$router.push("/leader")):(e.$toast.clear(),e.$toast.warning(a.data))}).catch(a=>{e.$toast.clear(),e.$toast.warning(a)})}}},R={class:"w-full h-full px-10 py-10"},G=t("div",{class:"flex flex-row justify-center items-center border-2 border-black border-solid p-4 rounded-md"},[t("label",{class:"text-black text-4xl font-bold"},"My Profile")],-1),Q={class:"flex flex-row"},W={class:"flex flex-col w-full h-full"},X={class:"mt-5 text-black w-full flex flex-row"},Y=t("div",{for:"",class:"w-44 text-end mr-10 flex flex-col justify-center font-bold"},"Name:",-1),Z={class:"w-8/12 rounded-md h-9 p-1"},$={class:"mt-5 text-black w-full flex flex-row"},ee=t("div",{for:"",class:"w-44 text-end mr-10 flex flex-col justify-center font-bold"},"Official Email:",-1),le={class:"w-8/12 rounded-md h-9 p-1"},te={class:"mt-5 text-black w-full flex flex-row"},se=t("div",{for:"",class:"w-44 text-end mr-10 flex flex-col justify-center font-bold"},"Department:",-1),ae={class:"w-8/12 rounded-md h-9 p-1"},oe={class:"mt-5 text-black w-full flex flex-row"},de=t("div",{for:"",class:"w-44 text-end mr-10 flex flex-col justify-center font-bold"},"Designation:",-1),re={class:"w-8/12 rounded-md h-9 p-1"},ne={class:"mt-5 text-black w-full flex flex-row"},ie=t("div",{for:"",class:"w-44 text-end mr-10 flex flex-col justify-center font-bold"},"Section:",-1),ue={class:"w-8/12 rounded-md h-9 p-1"},ce={class:"mt-5 text-black w-full flex flex-row"},fe=t("div",{for:"",class:"w-44 text-end mr-10 flex flex-col justify-center font-bold"},"Unit:",-1),he={class:"w-8/12 rounded-md h-9 p-1"},ge={class:"mt-5 text-black w-full flex flex-row"},ve=t("div",{for:"",class:"w-44 text-end mr-10 flex flex-col justify-center font-bold"},"Phone Number:",-1),be={class:"mt-5 text-black w-full flex flex-row"},pe=t("div",{for:"",class:"w-44 text-end mr-10 flex flex-col justify-center font-bold"},"Extension Number:",-1),me={class:"mt-5 text-black w-full flex flex-row"},xe=t("div",{for:"",class:"w-44 text-end mr-10 flex flex-col justify-center font-bold"},"User Type:",-1),ye={class:"w-8/12 rounded-md h-9 p-1"},we={class:"mt-5 text-black w-full flex flex-row"},_e=t("div",{for:"",class:"w-44 text-end mr-10 flex flex-col justify-center font-bold"},"Password:",-1),ke={class:"flex flex-row justify-start items-center w-8/12 rounded-md h-9 p-1"},Se=t("hr",{class:"border border-solid border-slate-300"},null,-1),Oe={class:"flex flex-row justify-center items-center mt-5"},Ce={class:"flex flex-col w-1/2 h-full justify-start items-center mt-20"},Ve={class:"[font-size:30px]"};function je(e,l,d,v,a,r){const n=L("font-awesome-icon"),h=L("Toggle");return V(),j("div",R,[G,t("div",Q,[t("div",W,[t("div",X,[Y,t("div",Z,g(a.user.empName),1)]),t("div",$,[ee,t("div",le,g(a.user.mailAddress),1)]),t("div",te,[se,t("div",ae,g(a.user.department),1)]),t("div",oe,[de,t("div",re,g(a.user.designation),1)]),t("div",ne,[ie,t("div",ue,g(a.user.section),1)]),t("div",ce,[fe,t("div",he,g(a.user.unit),1)]),t("div",ge,[ve,_(t("input",{class:"w-8/12 rounded-md h-9 p-1 border border-solid border-black",onChange:l[0]||(l[0]=(...s)=>r.toggleSave&&r.toggleSave(...s)),"onUpdate:modelValue":l[1]||(l[1]=s=>a.user.mobileNo=s)},null,544),[[C,a.user.mobileNo]])]),t("div",be,[pe,_(t("input",{class:"w-8/12 rounded-md h-9 border border-solid border-black p-1",onChange:l[2]||(l[2]=(...s)=>r.toggleSave&&r.toggleSave(...s)),"onUpdate:modelValue":l[3]||(l[3]=s=>a.user.extension=s)},null,544),[[C,a.user.extension]])]),t("div",me,[xe,t("div",ye,g(a.user.userType),1)]),t("div",we,[_e,t("div",ke,[_(t("input",{"onUpdate:modelValue":l[4]||(l[4]=s=>a.user.password=s),type:"password",class:"border border-solid border-black",id:"password",onChange:l[5]||(l[5]=(...s)=>r.toggleSave&&r.toggleSave(...s))},null,544),[[C,a.user.password]]),z(),T(n,{icon:a.eye,class:"ml-2",onClick:l[6]||(l[6]=s=>r.togglePassword()),id:"eye"},null,8,["icon"])])]),Se,t("div",Oe,[t("div",{class:"bg-slate-200 h-auto w-auto text-gray-400 font-bold py-2 px-10 shadow shadow-black",id:"save",onClick:l[7]||(l[7]=(...s)=>r.makeChange&&r.makeChange(...s))},"Save Changes"),t("div",{class:"bg-slate-300 h-auto w-auto text-black font-bold py-2 px-10 shadow shadow-black ml-5 hover:cursor-pointer",onClick:l[8]||(l[8]=(...s)=>r.cancel&&r.cancel(...s))},"Cancel")])]),t("div",Ce,[t("label",Ve,g(r.availability),1),T(h,{modelValue:a.user.available,"onUpdate:modelValue":l[9]||(l[9]=s=>a.user.available=s),onChange:r.toggleSave},null,8,["modelValue","onChange"])])])])}const Le=P(J,[["render",je]]);export{Le as default};
