import{_ as p,f as h,r as x,o as c,c as b,a as e,w as g,h as _,b as u,F as v,g as k,j as y,t as n}from"./index-e5788531.js";const w={data(){return{update:!1,users:[],departments:null,groups:null,groupTags:null,updateUserGroupTags:null,token:null,filterMail:null,filterId:null,filterName:null,filteredUsers:null,searchTerm:null}},computed:{emailList(){var t=this.users.map(r=>r.mailAddress);return t},nameList(){var t=this.users.map(r=>r.empName);return t},idList(){var t=this.users.map(r=>r._id);return t}},created(){this.token=this.authStore.getToken,this.loadUsers()},methods:{loadUsers:function(){var t=this,r=this.authStore.getToken,l=new FormData;l.append("token",r),h.post(t.globalUrl+"getUsers",l).then(function(s){t.users=s.data,t.filteredUsers=s.data,t.mainStore.setUsers(s.data),console.log(s.data)}).catch(function(s){console.log(s)})},deleteUser:function(t){var r=this,l=this.authStore.getToken,s=new FormData;s.append("token",l),s.append("user",JSON.stringify(t)),h.post(r.globalUrl+"deleteUser",s).then(a=>{console.log(a),this.loadUsers()},a=>{console.log(a)})},filter(){var t=this,r=this.users.filter(l=>{for(var s in l)if(l[s]==t.searchTerm)return!0});t.filteredUsers=r}}},U={class:"flex flex-col w-full h-[80vh]"},T={class:"flex flex-row w-[90vw] m-3 justify-end"},N={class:"w-full h-full overflow-y-scroll px-5 flex flex-col"},S=e("thead",{class:"bg-blue-500 text-white font-bold"},[e("tr",null,[e("th",{class:"border border-slate-300 h-14 bg-gradient-to-b from-blue-500 to-blue-400 text-center pr-16 text-sm sticky top-0"},[y("Email "),e("button",null,"filter")]),e("th",{class:"border border-slate-300 h-14 bg-gradient-to-b from-blue-500 to-blue-400 text-center pr-16 text-sm sticky top-0"},"Department"),e("th",{class:"border border-slate-300 h-14 bg-gradient-to-b from-blue-500 to-blue-400 text-center pr-16 text-sm sticky top-0"},"Designation"),e("th",{class:"border border-slate-300 h-14 bg-gradient-to-b from-blue-500 to-blue-400 text-center pr-16 text-sm sticky top-0"},"User Type"),e("th",{class:"border border-slate-300 h-14 bg-gradient-to-b from-blue-500 to-blue-400 text-center pr-16 text-sm sticky top-0"},"User Score"),e("th",{class:"border border-slate-300 h-14 bg-gradient-to-b from-blue-500 to-blue-400 text-center pr-16 text-sm sticky top-0"},"Number Of Raters"),e("th",{class:"border border-slate-300 h-14 bg-gradient-to-b from-blue-500 to-blue-400 text-center pr-16 text-sm sticky top-0"})])],-1),C={class:"border-2 border-solid text-sm text-center border-slate-300 pr-16"},D={class:"border-2 border-solid text-sm text-center border-slate-300 pr-16"},j={class:"border-2 border-solid text-sm text-center border-slate-300 pr-16"},F={class:"border-2 border-solid text-sm text-center border-slate-300 pr-16"},L={class:"border-2 border-solid text-sm text-center border-slate-300 pr-16"},V={class:"border-2 border-solid text-sm text-center border-slate-300 pr-16"},B={class:"border-2 border-solid p-4 text-sm text-center border-slate-300 pr-16 mb-10"},E=["onClick"],M=["onClick"],O=e("div",{class:"flex flex-row justify-end items-end mt-4"},null,-1);function A(t,r,l,s,a,d){const i=x("font-awesome-icon");return c(),b("div",U,[e("div",T,[g(e("input",{type:"search",placeholder:"Search","onUpdate:modelValue":r[0]||(r[0]=o=>a.searchTerm=o),class:"border shadow-sm shadow-black border-solid border-gray-300 p-2 focus:outline-none"},null,512),[[_,a.searchTerm]]),e("div",{onClick:r[1]||(r[1]=(...o)=>d.filter&&d.filter(...o)),class:"flex flex-col hover:cursor-pointer shadow-sm shadow-black justify-center items-center ml-1 bg-gray-300 p-3"},[u(i,{icon:"fa-solid fa-search"})])]),e("div",N,[e("table",null,[S,e("tbody",null,[(c(!0),b(v,null,k(a.filteredUsers,(o,m)=>(c(),b("tr",{key:m,scope:"row",class:"hover:bg-blue-200"},[e("td",C,n(o.empName),1),e("td",D,n(o.department),1),e("td",j,n(o.designation),1),e("td",F,n(o.userType),1),e("td",L,n(o.rating),1),e("td",V,n(o.raters),1),e("td",B,[e("button",{onClick:f=>this.$router.push("/ticketing/users/update/"+o._id),class:"h-8 rounded-md text-green-500 font-bold"},[u(i,{icon:"fa-solid fa-pen"})],8,E),e("button",{onClick:f=>d.deleteUser(o),class:"h-8 ml-10 rounded-md text-rose-500 font-bold"},[u(i,{icon:"fa-solid fa-trash"})],8,M)])]))),128))])])]),O])}const I=p(w,[["render",A]]);export{I as default};
